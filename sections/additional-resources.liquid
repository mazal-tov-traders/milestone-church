{%- style -%}
    #shopify-section-{{ section.id }} {
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'resources-card' -%}
            .my-custom-btn-{{ forloop.index }}{
        --color-button-background: {{ block.settings.color_button_backgroun }};
        --color-color-button-label: {{ block.settings.color_button_label }};
        --color-color-button-border: {{ block.settings.color_button_border }};
        --hover-color-button-background: {{ block.settings.hover_color_button_backgroun }};
        --hover-color-button-border: {{ block.settings.hover_color_button_border }};
        --hover-color-button-label: {{ block.settings.hover_color_button_label }};
            }
        {%- endcase -%}
      {%- endfor -%}
    .my-custom-btn-{{ forloop.index }}{
      background-color: var(--color-button-background);
      color: var(--color-color-button-label);
      border: 1px solid var(--color-color-button-border);
    }
    .my-custom-btn-{{ forloop.index }}:hover{
      background-color: var(--hover-color-button-background);
      border: 1px solid var(--hover-color-button-border);
      color: var(--hover-color-button-label);
    }
    }
{%- endstyle -%}
<section class="additional-resources {{ section.settings.secon_class }}">
  <div class="page-width">
    <div class="additional-resources__wrapper">
      {%- if section.settings.heading != blank -%}
        <h2 class="additional-resources__wrapper_heading" style=" color:{{ section.settings.color_heading_label }};">
          {{ section.settings.heading }}
        </h2>
      {%- endif -%}
      {%- if section.settings.content != blank -%}
        <div class="additional-resources__wrapper_content" style=" color:{{ section.settings.color_content_label }};">
          {{ section.settings.content }}
        </div>
      {%- endif -%}
      <div class="resources-card">
        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when 'resources-card' -%}
              <div class="resources-card__inner">
                {%- if block.settings.resources_image != blank -%}
                  <img
                    src="{{ block.settings.resources_image | img_url: 'original' }}"
                    alt="image"
                    class="resources-card__inner_img"
                  >
                {%- endif -%}
                {%- if block.settings.heading != blank -%}
                  <div class="resources-card__inner_heading" style=" color:{{ block.settings.color_heading_label }};">
                    {{ block.settings.heading }}
                  </div>
                {%- endif -%}
                {%- if block.settings.content != blank -%}
                  <div class="resources-card__inner_content" style=" color:{{ block.settings.color_content_label }};">
                    {{ block.settings.content }}
                  </div>
                {%- endif -%}
                {%- if block.settings.button_label != blank -%}
                  <div class="resources-card__inner_button">
                    <a
                      {% if block.settings.button_link == blank %}
                        role="link" aria-disabled="true"
                      {% else %}
                        href="{{ block.settings.button_link }}"
                      {% endif %}
                      class="my-custom-btn my-custom-btn-{{ forloop.index }}"
                    >
                      {{- block.settings.button_label | escape -}}
                    </a>
                  </div>
                {%- endif -%}
              </div>
          {%- endcase -%}
        {%- endfor -%}
      </div>
    </div>
  </div>
</section>
<style>
  .additional-resources.{{ section.settings.secon_class }}{
    background-image: url({{ section.settings.background | image_url: width: 3840 }});
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    max-width: 1920px;
    width: 100%;
    margin: 0 auto;
  }
</style>
{% schema %}
{
  "name": "additional-resources",
  "tag": "section",
  "settings": [
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "color",
      "id": "color_heading_label",
      "label": "Color Heading Label",
      "default": "#1D2228"
    },
    {
      "type": "inline_richtext",
      "id": "content",
      "label": "Content"
    },
    {
      "type": "color",
      "id": "color_content_label",
      "label": "Color Content Label",
      "default": "#1D2228"
    },
    {
      "type": "image_picker",
      "id": "background",
      "label": "Background image"
    },
    {
      "type": "text",
      "id": "secon_class",
      "label": "class for image background"
    }
  ],
  "blocks": [
    {
      "type": "resources-card",
      "name": "Resources Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "resources_image",
          "label": "Resources Image"
        },
        {
          "type": "inline_richtext",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "color",
          "id": "color_heading_label",
          "label": "Color Heading Label",
          "default": "#1D2228"
        },
        {
          "type": "inline_richtext",
          "id": "content",
          "label": "Content"
        },
        {
          "type": "color",
          "id": "color_content_label",
          "label": "Color Content Label",
          "default": "#1D2228"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button label"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button link"
        },
        {
          "type": "color",
          "id": "color_button_backgroun",
          "label": "Button Background Color",
          "default": "rgba(29, 34, 40, 0)"
        },
        {
          "type": "color",
          "id": "color_button_label",
          "label": "Button Color Label",
          "default": "#5491D6"
        },
        {
          "type": "color",
          "id": "color_button_border",
          "label": "Button Color Border",
          "default": "#5491D6"
        },
        {
          "type": "color",
          "id": "hover_color_button_backgroun",
          "label": "Hover Button Background Color",
          "default": "#5491D6"
        },
        {
          "type": "color",
          "id": "hover_color_button_border",
          "label": "Hover Button Color Border",
          "default": "#5491D6"
        },
        {
          "type": "color",
          "id": "hover_color_button_label",
          "label": "Hover Button Color Label",
          "default": "#fff"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Additional Resources"
    }
  ]
}
{% endschema %}
